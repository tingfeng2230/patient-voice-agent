# è·¨è®¾å¤‡è¯­éŸ³å½•å…¥åŠŸèƒ½ä½¿ç”¨æŒ‡å—

## åŠŸèƒ½æ¦‚è¿°

æœ¬ç³»ç»Ÿå®žçŽ°äº†**è·¨è®¾å¤‡å®žæ—¶åŒæ­¥**åŠŸèƒ½ï¼Œè®©åŒ»ç”Ÿå¯ä»¥ä½¿ç”¨æ‰‹æœºè¿›è¡Œè¯­éŸ³å½•å…¥ï¼ŒåŒæ—¶ç”µè„‘ç«¯å®žæ—¶æ˜¾ç¤ºå¹¶å¡«å†™è¡¨å•ã€‚

### ä½¿ç”¨åœºæ™¯

- ðŸ“± **æ‰‹æœºç«¯**ï¼šåŒ»ç”Ÿæ‹¿ç€æ‰‹æœºåœ¨æ‚£è€…èº«è¾¹ï¼Œéšæ—¶è¿›è¡Œè¯­éŸ³å½•å…¥
- ðŸ’» **ç”µè„‘ç«¯**ï¼šå°å¼æœºæˆ–ç¬”è®°æœ¬å®žæ—¶æ˜¾ç¤ºè¡¨å•ï¼Œæ–¹ä¾¿æŸ¥çœ‹å’Œç¼–è¾‘

### æ ¸å¿ƒç‰¹æ€§

1. **å®žæ—¶åŒæ­¥**ï¼šæ‰‹æœºç«¯è¯­éŸ³è¯†åˆ«ç»“æžœæ¯«ç§’çº§åŒæ­¥åˆ°ç”µè„‘ç«¯
2. **æ™ºèƒ½æå–**ï¼šè‡ªåŠ¨è¯†åˆ«æ‚£è€…å§“å
3. **åŒå‘ç¼–è¾‘**ï¼šç”µè„‘ç«¯å¯ä»¥ä¿®æ”¹ï¼Œä¿®æ”¹ç»“æžœä¼šåŒæ­¥åˆ°æ‰‹æœºç«¯é¢„è§ˆ
4. **ä¼šè¯éš”ç¦»**ï¼šé€šè¿‡ä¼šè¯ç å®žçŽ°ä¸€å¯¹ä¸€è¿žæŽ¥
5. **æ–­çº¿é‡è¿ž**ï¼šè‡ªåŠ¨å¤„ç†ç½‘ç»œä¸­æ–­æƒ…å†µ

## å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æœåŠ¡

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š

```bash
python -m src.main -m http -p 5000
```

æœåŠ¡å°†åœ¨ `http://localhost:5000` å¯åŠ¨ã€‚

### 2. æ‰‹æœºç«¯é…ç½®

åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­è®¿é—®ï¼š

```
http://[ç”µè„‘IP]:5000/static/mobile-recorder.html
```

**æ³¨æ„äº‹é¡¹**ï¼š
- ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨**åŒä¸€ä¸ªWiFiç½‘ç»œ**
- `[ç”µè„‘IP]` æ›¿æ¢ä¸ºç”µè„‘çš„å±€åŸŸç½‘IPåœ°å€ï¼ˆå¦‚ `192.168.1.100`ï¼‰
- æŸ¥çœ‹ç”µè„‘IPçš„æ–¹æ³•ï¼š
  - Windowsï¼šè¿è¡Œ `ipconfig`ï¼Œæ‰¾åˆ° IPv4 åœ°å€
  - Macï¼šè¿è¡Œç»ˆç«¯è¾“å…¥ `ifconfig`ï¼Œæ‰¾åˆ° inet åœ°å€

### 3. ç”µè„‘ç«¯é…ç½®

åœ¨ç”µè„‘æµè§ˆå™¨ä¸­è®¿é—®ï¼š

```
http://localhost:5000/static/desktop-form.html
```

### 4. å»ºç«‹è¿žæŽ¥

1. **æ‰‹æœºç«¯**ï¼šä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª6ä½ä¼šè¯ç ï¼ˆå¦‚ `ABC123`ï¼‰
2. **ç”µè„‘ç«¯**ï¼šè¾“å…¥è¿™ä¸ªä¼šè¯ç ï¼Œç‚¹å‡»"è¿žæŽ¥"æŒ‰é’®
3. **è¿žæŽ¥æˆåŠŸ**ï¼šä¸¤ä¸ªé¡µé¢éƒ½ä¼šæ˜¾ç¤º"å·²è¿žæŽ¥"çŠ¶æ€

### 5. å¼€å§‹ä½¿ç”¨

1. åœ¨æ‰‹æœºç«¯ç‚¹å‡»çº¢è‰²éº¦å…‹é£ŽæŒ‰é’®å¼€å§‹å½•éŸ³
2. å¼€å§‹è¯´è¯ï¼ˆå¦‚ï¼š"æˆ‘æ˜¯å¼ ä¸‰ï¼Œæœ€è¿‘ä¸‰å¤©æ„Ÿè§‰å¤´æ™•"ï¼‰
3. ç”µè„‘ç«¯ä¼šå®žæ—¶æ˜¾ç¤ºè¯†åˆ«å†…å®¹
4. è¯†åˆ«å‡ºçš„å§“åä¼šè‡ªåŠ¨å¡«å†™åˆ°"æ‚£è€…å§“å"å­—æ®µ
5. å®Œæ•´å†…å®¹ä¼šå¡«å†™åˆ°"é—®è¯Šè®°å½•"å­—æ®µ

## è¯¦ç»†åŠŸèƒ½è¯´æ˜Ž

### æ‰‹æœºç«¯åŠŸèƒ½

#### 1. ä¼šè¯ç®¡ç†
- **ä¼šè¯ç **ï¼šè‡ªåŠ¨ç”Ÿæˆ6ä½å¤§å†™å­—æ¯å’Œæ•°å­—ç»„åˆ
- **å¤åˆ¶åŠŸèƒ½**ï¼šä¸€é”®å¤åˆ¶ä¼šè¯ç ï¼Œæ–¹ä¾¿åˆ†äº«
- **è¿žæŽ¥çŠ¶æ€**ï¼šå®žæ—¶æ˜¾ç¤ºä¸ŽæœåŠ¡å™¨è¿žæŽ¥çŠ¶æ€

#### 2. è¯­éŸ³è¯†åˆ«
- **å®žæ—¶è¯†åˆ«**ï¼šè¾¹è¯´è¾¹è¯†åˆ«ï¼Œæ— éœ€ç­‰å¾…
- **æ™ºèƒ½æå–**ï¼šè‡ªåŠ¨ä»Žè¯­éŸ³ä¸­æå–å§“å
- **é¢„è§ˆæ˜¾ç¤º**ï¼šæ˜¾ç¤ºå·²è¯†åˆ«çš„å§“åå’Œé—®è¯Šè®°å½•
- **æš‚åœ/ç»§ç»­**ï¼šæ”¯æŒæš‚åœå’Œæ¢å¤å½•éŸ³

#### 3. å§“åè¯†åˆ«è§„åˆ™

æ”¯æŒä»¥ä¸‹è¡¨è¾¾æ–¹å¼ï¼š
- "æˆ‘æ˜¯å¼ ä¸‰" â†’ è‡ªåŠ¨æå–å§“å"å¼ ä¸‰"
- "æˆ‘å«æŽå››" â†’ è‡ªåŠ¨æå–å§“å"æŽå››"
- "æ‚£è€…çŽ‹äº”" â†’ è‡ªåŠ¨æå–å§“å"çŽ‹äº”"
- "å§“åï¼šèµµå…­" â†’ è‡ªåŠ¨æå–å§“å"èµµå…­"

### ç”µè„‘ç«¯åŠŸèƒ½

#### 1. è¿žæŽ¥ç®¡ç†
- **è¾“å…¥ä¼šè¯ç **ï¼šè¿žæŽ¥åˆ°æŒ‡å®šçš„æ‰‹æœºç«¯
- **è¿žæŽ¥çŠ¶æ€**ï¼šæ˜¾ç¤ºå·²è¿žæŽ¥/è¿žæŽ¥ä¸­/æœªè¿žæŽ¥
- **æ–­å¼€è¿žæŽ¥**ï¼šå¯ä»¥éšæ—¶æ–­å¼€å½“å‰è¿žæŽ¥

#### 2. è¡¨å•åŠŸèƒ½
- **å®žæ—¶æ˜¾ç¤º**ï¼šæ‰‹æœºç«¯å½•éŸ³å†…å®¹å®žæ—¶æ˜¾ç¤º
- **æ‰‹åŠ¨ç¼–è¾‘**ï¼šå¯ä»¥ä¿®æ”¹è¡¨å•å†…å®¹
- **åŒå‘åŒæ­¥**ï¼šç”µè„‘ç«¯ä¿®æ”¹ä¼šåŒæ­¥åˆ°æ‰‹æœºç«¯é¢„è§ˆ
- **æ¸…ç©ºè¡¨å•**ï¼šä¸€é”®æ¸…ç©ºæ‰€æœ‰å†…å®¹
- **ä¿å­˜è¡¨å•**ï¼šä¿å­˜å½“å‰è¡¨å•æ•°æ®

#### 3. åŒæ­¥æŒ‡ç¤ºå™¨
- å³ä¸Šè§’æ˜¾ç¤º"å®žæ—¶åŒæ­¥ä¸­"æç¤º
- æœ‰æ–°æ•°æ®æ›´æ–°æ—¶ä¼šé—ªçƒæ˜¾ç¤º

## ç½‘ç»œé…ç½®

### åŒä¸€WiFiç½‘ç»œ

ç¡®ä¿æ‰‹æœºå’Œç”µè„‘è¿žæŽ¥åˆ°åŒä¸€ä¸ªWiFiç½‘ç»œï¼š

1. æ‰“å¼€ç”µè„‘çš„WiFiè®¾ç½®ï¼ŒæŸ¥çœ‹å½“å‰è¿žæŽ¥çš„ç½‘ç»œåç§°
2. æ‰“å¼€æ‰‹æœºçš„WiFiè®¾ç½®ï¼Œè¿žæŽ¥åˆ°ç›¸åŒçš„ç½‘ç»œ
3. ç¡®è®¤ä¸¤å°è®¾å¤‡å¯ä»¥äº’ç›¸è®¿é—®

### æŸ¥çœ‹ç”µè„‘IPåœ°å€

**Windowsï¼š**
```cmd
ipconfig
# æ‰¾åˆ° "æ— çº¿å±€åŸŸç½‘é€‚é…å™¨ WLAN" ä¸‹çš„ IPv4 åœ°å€
# ä¾‹å¦‚ï¼š192.168.1.100
```

**Macï¼š**
```bash
ifconfig
# æ‰¾åˆ° en0 æˆ– en1 ä¸‹çš„ inet åœ°å€
# ä¾‹å¦‚ï¼š192.168.1.100
```

**Linuxï¼š**
```bash
ifconfig
# æˆ–
ip addr
```

### é˜²ç«å¢™è®¾ç½®

å¦‚æžœæ— æ³•è¿žæŽ¥ï¼Œè¯·æ£€æŸ¥é˜²ç«å¢™è®¾ç½®ï¼š

**Windowsï¼š**
1. æŽ§åˆ¶é¢æ¿ â†’ ç³»ç»Ÿå’Œå®‰å…¨ â†’ Windows Defender é˜²ç«å¢™
2. å…è®¸åº”ç”¨é€šè¿‡é˜²ç«å¢™ â†’ å…è®¸ Python

**Macï¼š**
1. ç³»ç»Ÿåå¥½è®¾ç½® â†’ å®‰å…¨æ€§ä¸Žéšç§ â†’ é˜²ç«å¢™
2. é˜²ç«å¢™é€‰é¡¹ â†’ å…è®¸ Python

**Linuxï¼š**
```bash
sudo ufw allow 5000
```

## å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šæ‰‹æœºæ— æ³•è®¿é—®ç”µè„‘é¡µé¢

**å¯èƒ½åŽŸå› ï¼š**
- æ‰‹æœºå’Œç”µè„‘ä¸åœ¨åŒä¸€ç½‘ç»œ
- é˜²ç«å¢™é˜»æ­¢äº†è¿žæŽ¥
- IPåœ°å€é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®è®¤ä¸¤å°è®¾å¤‡è¿žæŽ¥åˆ°ç›¸åŒWiFi
2. æ£€æŸ¥å¹¶é…ç½®é˜²ç«å¢™
3. é‡æ–°ç¡®è®¤ç”µè„‘çš„IPåœ°å€

### é—®é¢˜2ï¼šç”µè„‘ç«¯è¾“å…¥ä¼šè¯ç åŽæ— æ³•è¿žæŽ¥

**å¯èƒ½åŽŸå› ï¼š**
- ä¼šè¯ç è¾“å…¥é”™è¯¯
- æ‰‹æœºç«¯æœªåŠ è½½å®Œæˆ
- ç½‘ç»œä¸ç¨³å®š

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®è®¤ä¼šè¯ç æ­£ç¡®ï¼ˆ6ä½å¤§å†™å­—æ¯/æ•°å­—ï¼‰
2. ç­‰å¾…æ‰‹æœºç«¯é¡µé¢å®Œå…¨åŠ è½½ï¼ˆæ˜¾ç¤ºä¼šè¯ç ï¼‰
3. åˆ·æ–°é¡µé¢é‡è¯•

### é—®é¢˜3ï¼šè¿žæŽ¥åŽæ²¡æœ‰å®žæ—¶åŒæ­¥

**å¯èƒ½åŽŸå› ï¼š**
- WebSocketè¿žæŽ¥æ–­å¼€
- ç½‘ç»œä¸ç¨³å®š
- æµè§ˆå™¨ä¸æ”¯æŒ

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥ä¸¤ç«¯çš„è¿žæŽ¥çŠ¶æ€æŒ‡ç¤ºå™¨
2. é‡æ–°å»ºç«‹è¿žæŽ¥
3. ä½¿ç”¨ Chrome/Edge/Safari æµè§ˆå™¨

### é—®é¢˜4ï¼šè¯­éŸ³è¯†åˆ«ä¸å‡†ç¡®

**å¯èƒ½åŽŸå› ï¼š**
- çŽ¯å¢ƒå™ªéŸ³å¤§
- è¯´è¯è¯­é€Ÿè¿‡å¿«
- æ–¹è¨€æˆ–å£éŸ³

**è§£å†³æ–¹æ¡ˆï¼š**
1. åœ¨å®‰é™çŽ¯å¢ƒä¸­ä½¿ç”¨
2. è¯­é€Ÿé€‚ä¸­ï¼Œæ¸…æ™°è¡¨è¾¾
3. ä½¿ç”¨æ™®é€šè¯
4. å¯ä»¥åœ¨ç”µè„‘ç«¯æ‰‹åŠ¨ä¿®æ”¹è¯†åˆ«é”™è¯¯

### é—®é¢˜5ï¼šå§“åæœªè¢«è¯†åˆ«

**å¯èƒ½åŽŸå› ï¼š**
- æœªä½¿ç”¨æ ‡å‡†è¡¨è¾¾æ–¹å¼
- å§“åæ ¼å¼ä¸ç¬¦åˆè§„èŒƒ

**è§£å†³æ–¹æ¡ˆï¼š**
1. ä½¿ç”¨æ ‡å‡†è¡¨è¾¾ï¼š"æˆ‘æ˜¯xxx"æˆ–"æˆ‘å«xxx"
2. å§“åä½¿ç”¨2-4ä¸ªä¸­æ–‡å­—ç¬¦
3. å¯ä»¥åœ¨ç”µè„‘ç«¯æ‰‹åŠ¨å¡«å†™å§“å

## æŠ€æœ¯æž¶æž„

### é€šä¿¡æµç¨‹

```
æ‰‹æœºç«¯                æœåŠ¡å™¨                ç”µè„‘ç«¯
  |                    |                    |
  |--1. ç”Ÿæˆä¼šè¯ç ------>|                    |
  |<---2. è¿”å›žä¼šè¯ç -----|                    |
  |                    |                    |
  |--3. è¾“å…¥ä¼šè¯ç ------|                    |
  |                    |--4. å»ºç«‹ WS è¿žæŽ¥---->|
  |                    |                    |
  |--5. å¼€å§‹å½•éŸ³-------->|                    |
  |<---6. è¯­éŸ³è¯†åˆ«------|                    |
  |--7. å‘é€ç»“æžœ------->|                    |
  |                    |--8. è½¬å‘æ•°æ®------>|
  |                    |                    |
  |                    |<--9. æ‰‹åŠ¨ä¿®æ”¹-------|
  |<--10. åŒæ­¥æ›´æ–°------|                    |
```

### WebSocket åè®®

**è¿žæŽ¥ç«¯ç‚¹ï¼š**
```
ws://[IP]:5000/ws/[session_id]
```

**æ¶ˆæ¯æ ¼å¼ï¼š**

å®¢æˆ·ç«¯å‘é€ï¼š
```json
{
  "type": "update",
  "data": {
    "patient_name": "å¼ ä¸‰",
    "medical_record": "æœ€è¿‘ä¸‰å¤©æ„Ÿè§‰å¤´æ™•"
  }
}
```

æœåŠ¡å™¨è¿”å›žï¼š
```json
{
  "type": "init",
  "data": {
    "patient_name": "",
    "medical_record": ""
  }
}
```

æˆ–

```json
{
  "type": "update",
  "data": {
    "patient_name": "å¼ ä¸‰",
    "medical_record": "æœ€è¿‘ä¸‰å¤©æ„Ÿè§‰å¤´æ™•"
  }
}
```

### æ•°æ®åŒæ­¥ç­–ç•¥

1. **å•å‘åŒæ­¥**ï¼šæ‰‹æœºç«¯å½•éŸ³ â†’ ç”µè„‘ç«¯æ˜¾ç¤º
2. **åŒå‘åŒæ­¥**ï¼šç”µè„‘ç«¯ç¼–è¾‘ â†’ æ‰‹æœºç«¯é¢„è§ˆ
3. **æœ€ç»ˆä¸€è‡´æ€§**ï¼šä»¥æœ€åŽä¿®æ”¹ä¸ºå‡†
4. **å†²çªå¤„ç†**ï¼šåŽåˆ°çš„è¦†ç›–å…ˆåˆ°çš„

## å®‰å…¨å»ºè®®

1. **WiFiå®‰å…¨**ï¼šä½¿ç”¨åŠ å¯†çš„WiFiç½‘ç»œï¼ˆWPA2/WPA3ï¼‰
2. **ä¼šè¯ç ä¿æŠ¤**ï¼šä¸è¦åœ¨å…¬å…±åœºåˆåˆ†äº«ä¼šè¯ç 
3. **æ•°æ®ä¼ è¾“**ï¼šç”Ÿäº§çŽ¯å¢ƒå»ºè®®ä½¿ç”¨ HTTPS/WSS
4. **è®¿é—®æŽ§åˆ¶**ï¼šå¯ä»¥æ·»åŠ èº«ä»½éªŒè¯æœºåˆ¶

## æ€§èƒ½ä¼˜åŒ–

1. **å‡å°‘å»¶è¿Ÿ**ï¼šä½¿ç”¨5G WiFiæˆ–æœ‰çº¿è¿žæŽ¥
2. **ä¼˜åŒ–è¯†åˆ«**ï¼šä½¿ç”¨è¾ƒæ–°çš„æµè§ˆå™¨
3. **ç½‘ç»œç¨³å®š**ï¼šç¡®ä¿ä¿¡å·å¼ºåº¦è‰¯å¥½
4. **è®¾å¤‡æ€§èƒ½**ï¼šä½¿ç”¨æ€§èƒ½è¾ƒå¥½çš„è®¾å¤‡

## æ‰©å±•åŠŸèƒ½

### æœªæ¥å¯æ‰©å±•çš„åŠŸèƒ½

1. **å¤šæ‚£è€…æ”¯æŒ**ï¼šåŒæ—¶ç®¡ç†å¤šä¸ªæ‚£è€…çš„è®°å½•
2. **åŽ†å²è®°å½•**ï¼šä¿å­˜å’Œç®¡ç†åŽ†å²ä¼šè¯
3. **æ•°æ®å¯¼å‡º**ï¼šå¯¼å‡ºä¸ºExcelã€PDFç­‰æ ¼å¼
4. **AIå¢žå¼º**ï¼šä½¿ç”¨æ›´é«˜çº§çš„è¯­éŸ³è¯†åˆ«æ¨¡åž‹
5. **ç¦»çº¿æ”¯æŒ**ï¼šæ”¯æŒç¦»çº¿è¯­éŸ³è¯†åˆ«
6. **å¤šè¯­è¨€**ï¼šæ”¯æŒå¤šç§è¯­è¨€è¯†åˆ«

## æ”¯æŒå’Œåé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚

## æ–‡ä»¶ä½ç½®

- **æ‰‹æœºç«¯é¡µé¢**ï¼š`assets/mobile-recorder.html`
- **ç”µè„‘ç«¯é¡µé¢**ï¼š`assets/desktop-form.html`
- **WebSocketæœåŠ¡**ï¼š`src/main.py` ä¸­çš„ `websocket_endpoint` å‡½æ•°
- **è¿žæŽ¥ç®¡ç†å™¨**ï¼š`src/main.py` ä¸­çš„ `ConnectionManager` ç±»

## æ€»ç»“

è·¨è®¾å¤‡è¯­éŸ³å½•å…¥åŠŸèƒ½è®©åŒ»ç”Ÿå¯ä»¥è‡ªç”±åœ°åœ¨æ‚£è€…èº«è¾¹ä½¿ç”¨æ‰‹æœºè¿›è¡Œè¯­éŸ³å½•å…¥ï¼ŒåŒæ—¶åœ¨ç”µè„‘ç«¯å®žæ—¶æŸ¥çœ‹å’Œç¼–è¾‘è¡¨å•ï¼Œå¤§å¤§æé«˜äº†åŒ»ç–—ä¿¡æ¯é‡‡é›†çš„çµæ´»æ€§å’Œæ•ˆçŽ‡ã€‚

é€šè¿‡ WebSocket æŠ€æœ¯ï¼Œå®žçŽ°äº†æ¯«ç§’çº§çš„å®žæ—¶åŒæ­¥ï¼Œè®©ç§»åŠ¨è®¾å¤‡å’Œæ¡Œé¢è®¾å¤‡å®Œç¾Žåä½œï¼
